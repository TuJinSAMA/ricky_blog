import { ArticleLayout } from '@/components/ArticleLayout'

export const meta = {
  author: '荼锦',
  date: '2022-06-02',
  title: '代码性能指标',
  description:
    '',
}

export default (props) => <ArticleLayout meta={meta} {...props} />

## 健壮性

### 什么是健壮性

健壮性就是代码抗击风险的能力，你的代码不会因为一些意外的、不必要的、和程序无关的因素而中断执行。

### 为什么要保障健壮性

1. 避免因为和程序无关的因素，而导致代码报错。
1. 避免因为非必要性 bug，而导致程序执行中断。
1. 帮助我们快速找到问题，给出反馈。

### 如何保障健壮性

1. 永远不要绝对信任传进来的参数，做好参数默认值设置，做好参数检测。
1. 程序做好意外情况处理，易错代码做错误捕获处理，不能因为不可掌控的报错而中断代码执行。

## 可读性

### 什么是可读性

可读性就是代码阅读起来很清楚

### 为什么要提高可读性

1. 代码结构清晰
1. 他人能够看懂你的意思

### 如何提高可读性

1. 优化丑陋的结构，例如：
   1. `if-else`嵌套

```typescript
if (...) {
  ...
  if (...) {
    ...
  }else if (...) {
    ...
  }
}else if (...) {
  ...
  if (...) {
    ...
  }else if (...) {
    ...
  }
}
```

2.  回调地狱

```typescript
$.axios({
  method: 'GET',
  url: '/xxx',
  success: function (res) {
    $.axios({
      method: 'GET',
      url: '/xxx',
      success: function (res) {
        $.axios({
          method: 'GET',
          url: '/xxx',
          success: function (res) {
            $.axios({
              method: 'GET',
              url: '/xxx',
              success: function (res) {
                $.axios({
                  method: 'GET',
                  url: '/xxx',
                  success: function (res) {
                    ...
                  }
                })
              }
            })
          }
        })
      }
    })
  }
})
```

2. 遵循约定俗称的书写规范
   - 常量名全大写
   - 类名、构造函数名使用大驼峰写法
   - 普通方法和变量名使用小驼峰写法
   - 局部变量名使用`_`下划线开头小驼峰写法
   - 一定要遵循语义化，不使用无语义的单词或单个字母
3. 一定要写好注释

## 可复用性

### 什么是可复用性

代码就像一块砖，哪里需要哪里搬。这里说的搬当然不是 C+V，而是可以重复调用的代码，就像我们小时候搭积木一样，一个小部件可以在不同的地方使用。

### 为什么要提高可复用性

1. 重复的操作代码不用写第二遍，用的时候直接调用即可。
1. 减少代码体积

### 如何提高可复用性

1. 桥接模式
1. 享元模式
1. 函数式编程
1. 低耦合，高内聚

## 可扩展性

### 什么是可扩展性

代码可以很好的应对以后的变更，不用大规模改动。

### 为什么要提高可扩展性

1. 增加新需求，不用变动现有结构
1. 增加新功能，最好只需要写新功能就好

### 如何提高可扩展性

1. 留出扩展接口，例如钩子函数
1. 模块低耦合，高内聚
1. 良好的模块组织
1. 良好的扩展方案
